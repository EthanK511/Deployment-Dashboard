<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pages Deployment Control Center</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="control-center">
        <header class="header-panel">
            <h1 class="main-title">GitHub Pages Control Center</h1>
            <div class="auth-container">
                <input type="password" 
                       id="tokenField" 
                       class="token-input" 
                       placeholder="Enter your Personal Access Token"
                       autocomplete="off">
                <div class="remember-container">
                    <input type="checkbox" id="rememberToken" class="remember-checkbox">
                    <label for="rememberToken" class="remember-label">Remember token (stored in browser)</label>
                </div>
                <button id="connectBtn" class="connect-button">Connect</button>
                <button id="refreshBtn" class="refresh-button" style="display:none;">Refresh Data</button>
                <button id="clearTokenBtn" class="clear-token-button" style="display:none;">Clear Saved Token</button>
            </div>
        </header>

        <div id="statusBar" class="status-bar"></div>

        <main class="deployment-grid" id="deploymentGrid">
            <div class="initial-message">
                <p>üîê Please authenticate with your GitHub token to view deployments</p>
                <p class="help-text"><strong>Token Type:</strong> Use either a Fine-grained or Classic Personal Access Token</p>
                
                <div style="text-align: left; max-width: 600px; margin: 20px auto;">
                    <h3 style="color: #58a6ff; margin-bottom: 10px;">Quick Setup Guide:</h3>
                    
                    <p><strong>Option 1: Fine-Grained Token (Recommended)</strong></p>
                    <ol style="text-align: left; padding-left: 20px;">
                        <li>Go to <a href="https://github.com/settings/personal-access-tokens/new" target="_blank" style="color: #58a6ff;">github.com/settings/personal-access-tokens/new</a></li>
                        <li>Click "Generate new token"</li>
                        <li>Name it "Deployment Dashboard"</li>
                        <li>Set <strong>Repository Access</strong> to "All repositories"</li>
                        <li>Under <strong>Repository Permissions</strong>, set:
                            <ul style="margin-top: 5px; padding-left: 20px;">
                                <li><strong>Administration:</strong> Read and write</li>
                                <li><strong>Contents:</strong> Read and write</li>
                                <li><strong>Metadata:</strong> Read-only (auto-selected)</li>
                                <li><strong>Pages:</strong> Read and write <span style="color: #f85149;">‚Üê CRITICAL!</span></li>
                            </ul>
                        </li>
                        <li>Generate and copy the token</li>
                    </ol>
                    
                    <p style="margin-top: 20px;"><strong>Option 2: Classic Token</strong></p>
                    <ol style="text-align: left; padding-left: 20px;">
                        <li>Go to <a href="https://github.com/settings/tokens" target="_blank" style="color: #58a6ff;">github.com/settings/tokens</a></li>
                        <li>Click "Generate new token (classic)"</li>
                        <li>Name it "Deployment Dashboard"</li>
                        <li>Select scope: <strong><code>repo</code></strong> (Full control of private repositories)</li>
                        <li>Generate and copy the token</li>
                    </ol>
                    
                    <p style="margin-top: 20px; padding: 10px; background: #21262d; border-left: 3px solid #f85149;">
                        <strong>‚ö†Ô∏è Common Issue:</strong> If you get a 403 error when enabling Pages, ensure your token has the <strong>Pages</strong> permission (fine-grained) or <strong>repo</strong> scope (classic).
                    </p>
                </div>
            </div>
        </main>
    </div>

    <script src="app.js"></script>
</body>
</html>
